!function(){"use strict";BX.namespace("BX.Main"),BX.Main.grid=function(t,e,i,n,s,o,a,r,l){this.settings=null,this.containerId="",this.container=null,this.wrapper=null,this.fadeContainer=null,this.scrollContainer=null,this.pagination=null,this.moreButton=null,this.table=null,this.rows=null,this.history=!1,this.userOptions=null,this.checkAll=null,this.sortable=null,this.updater=null,this.data=null,this.fader=null,this.editor=null,this.isEditMode=null,this.pinHeader=null,this.pinPanel=null,this.arParams=null,this.resize=null,this.init(t,e,i,n,s,o,a,r,l)},BX.Main.grid.isNeedResourcesReady=function(t){return BX.hasClass(t,"main-grid-load-animation")},BX.Main.grid.prototype={init:function(t,e,i,n,s,o,a,r,l){this.initArguments=[].slice.call(arguments),this.container=BX(t),!BX.browser.IsSafari()&&BX.Main.grid.isNeedResourcesReady(this.container)?BX.bind(this.container,"animationend",BX.proxy(this._onResourcesReady,this)):this.initAfterResourcesReady.apply(this,this.initArguments)},_onResourcesReady:function(t){"main-grid-load"===t.animationName&&this.initAfterResourcesReady.apply(this,this.initArguments)},initAfterResourcesReady:function(t,e,i,n,s,o,a,r,l){if(!BX.type.isNotEmptyString(t))throw"BX.Main.grid.init: parameter containerId is empty";if(!BX.type.isPlainObject(e))throw new Error("BX.Main.grid.init: arParams isn't object");if(this.arParams=e,this.settings=new BX.Grid.Settings,this.containerId=t,this.userOptions=new BX.Grid.UserOptions(this,i,n,s),this.gridSettings=new BX.Grid.SettingsWindow(this),this.messages=new BX.Grid.Message(this,l),this.getParam("ALLOW_PIN_HEADER")&&(this.pinHeader=new BX.Grid.PinHeader(this),BX.addCustomEvent(window,"Grid::headerUpdated",BX.proxy(this.bindOnCheckAll,this))),this.bindOnCheckAll(),this.getParam("ALLOW_HORIZONTAL_SCROLL")&&(this.fader=new BX.Grid.Fader(this)),this.pageSize=new BX.Grid.Pagesize(this),this.getParam("SHOW_ACTION_PANEL")&&(this.actionPanel=new BX.Grid.ActionPanel(this,o,a)),this.editor=new BX.Grid.InlineEditor(this,r),this.getParam("SHOW_ACTION_PANEL")&&(this.pinPanel=new BX.Grid.PinPanel(this)),this.isEditMode=!1,!BX.type.isDomNode(this.getContainer()))throw"BX.Main.grid.init: Failed to find container with id "+this.getContainerId();if(!BX.type.isDomNode(this.getTable()))throw"BX.Main.grid.init: Failed to find table";this.bindOnRowEvents(),this.getParam("ALLOW_COLUMNS_RESIZE")&&(this.resize=new BX.Grid.Resize(this)),this.bindOnMoreButtonEvents(),this.bindOnClickPaginationLinks(),this.bindOnClickHeader(),this.getParam("ALLOW_ROWS_SORT")&&this.initRowsDragAndDrop(),this.getParam("ALLOW_COLUMNS_SORT")&&this.initColsDragAndDrop(),this.getRows().initSelected(),this.adjustEmptyTable(this.getRows().getSourceBodyChild()),BX.onCustomEvent(this.getContainer(),"Grid::ready",[this]),BX.addCustomEvent(window,"Grid::unselectRow",BX.proxy(this._onUnselectRows,this)),BX.addCustomEvent(window,"Grid::unselectRows",BX.proxy(this._onUnselectRows,this)),BX.addCustomEvent(window,"Grid::allRowsUnselected",BX.proxy(this._onUnselectRows,this))},destroy:function(){BX.removeCustomEvent(window,"Grid::unselectRow",BX.proxy(this._onUnselectRows,this)),BX.removeCustomEvent(window,"Grid::unselectRows",BX.proxy(this._onUnselectRows,this)),BX.removeCustomEvent(window,"Grid::allRowsUnselected",BX.proxy(this._onUnselectRows,this)),BX.removeCustomEvent(window,"Grid::headerPinned",BX.proxy(this.bindOnCheckAll,this)),this.getPinHeader()&&this.getPinHeader().destroy(),this.getFader()&&this.getFader().destroy(),this.getResize()&&this.getResize().destroy(),this.getColsSortable()&&this.getColsSortable().destroy(),this.getRowsSortable()&&this.getRowsSortable().destroy(),this.getSettingsWindow()&&this.getSettingsWindow().destroy()},enableActionsPanel:function(){var t=this.getActionsPanel().getPanel();BX.type.isDomNode(t)&&BX.removeClass(t,this.settings.get("classDisable"))},disableActionsPanel:function(){var t=this.getActionsPanel().getPanel();BX.type.isDomNode(t)&&BX.addClass(t,this.settings.get("classDisable"))},getSettingsWindow:function(){return this.gridSettings},_onUnselectRows:function(){var t,e=this.getActionsPanel();e instanceof BX.Grid.ActionPanel&&(t=e.getForAllCheckbox(),BX.type.isDomNode(t)&&(t.checked=null,this.disableForAllCounter()))},isIE:function(){return BX.type.isBoolean(this.ie)||(this.ie=BX.hasClass(document.documentElement,"bx-ie")),this.ie},isTouch:function(){return BX.type.isBoolean(this.touch)||(this.touch=BX.hasClass(document.documentElement,"bx-touch")),this.touch},getParam:function(t,e){return void 0===e&&(e=null),this.arParams.hasOwnProperty(t)?this.arParams[t]:e},getCounterTotal:function(){return BX.Grid.Utils.getByClass(this.getContainer(),this.settings.get("classCounterTotal"),!0)},getActionKey:function(){return"action_button_"+this.getId()},getPinHeader:function(){return this.getParam("ALLOW_PIN_HEADER")&&(this.pinHeader=this.pinHeader||new BX.Grid.PinHeader(this)),this.pinHeader},getResize:function(){return this.resize instanceof BX.Grid.Resize||!this.getParam("ALLOW_COLUMNS_RESIZE")||(this.resize=new BX.Grid.Resize(this)),this.resize},confirmForAll:function(t){var e,i=this;BX.type.isDomNode(t)&&(e=BX.Grid.Utils.getByTag(t,"input",!0)),e.checked?this.getActionsPanel().confirmDialog({CONFIRM:!0,CONFIRM_MESSAGE:this.arParams.CONFIRM_FOR_ALL_MESSAGE},function(){BX.type.isDomNode(e)&&(e.checked=!0),i.selectAllCheckAllCheckboxes(),i.getRows().selectAll(),i.enableForAllCounter(),i.updateCounterDisplayed(),i.updateCounterSelected(),i.enableActionsPanel(),BX.onCustomEvent(window,"Grid::allRowsSelected",[])},function(){BX.type.isDomNode(e)&&(e.checked=null,i.disableForAllCounter(),i.updateCounterDisplayed(),i.updateCounterSelected())}):(this.unselectAllCheckAllCheckboxes(),this.getRows().unselectAll(),this.disableForAllCounter(),this.updateCounterDisplayed(),this.updateCounterSelected(),this.disableActionsPanel(),BX.onCustomEvent(window,"Grid::allRowsUnselected",[]))},editSelected:function(){this.getRows().editSelected()},editSelectedSave:function(){var t={FIELDS:this.getRows().getEditSelectedValues()};t[this.getActionKey()]="edit",this.reloadTable("POST",t)},getForAllKey:function(){return"action_all_rows_"+this.getId()},updateRow:function(t,e,i,n){var s=this.getRows().getById(t);s instanceof BX.Grid.Row&&s.update(e,i,n)},removeRow:function(t,e,i,n){var s=this.getRows().getById(t);s instanceof BX.Grid.Row&&s.remove(e,i,n)},addRow:function(t,e,i){var n={action:this.getUserOptions().getAction("GRID_ADD_ROW"),data:t},s=this;this.tableFade(),this.getData().request(e,"POST",n,null,function(){var e=this.getBodyRows();s.getUpdater().updateBodyRows(),s.tableUnfade(),s.getRows().reset(),s.getUpdater().updateFootRows(this.getFootRows()),s.getUpdater().updatePagination(this.getPagination()),s.getUpdater().updateMoreButton(this.getMoreButton()),s.getUpdater().updateCounterTotal(this.getCounterTotal()),s.bindOnRowEvents(),s.adjustEmptyTable(e),s.bindOnMoreButtonEvents(),s.bindOnClickPaginationLinks(),s.updateCounterDisplayed(),s.updateCounterSelected(),s.getParam("ALLOW_COLUMNS_SORT")&&s.colsSortable.reinit(),s.getParam("ALLOW_ROWS_SORT")&&s.rowsSortable.reinit(),BX.onCustomEvent(window,"Grid::rowAdded",[{data:t,grid:s,response:this}]),BX.onCustomEvent(window,"Grid::updated",[]),BX.type.isFunction(i)&&i({data:t,grid:s,response:this})})},editSelectedCancel:function(){this.getRows().editSelectedCancel()},removeSelected:function(){var t={ID:this.getRows().getSelectedIds()},e=this.getActionsPanel().getValues();t[this.getActionKey()]="delete",t[this.getForAllKey()]=this.getForAllKey()in e?e[this.getForAllKey()]:"N",this.reloadTable("POST",t)},sendSelected:function(){var t=this.getActionsPanel().getValues(),e={rows:this.getRows().getSelectedIds(),controls:t};this.reloadTable("POST",e)},getActionsPanel:function(){return this.actionPanel},getApplyButton:function(){return BX.Grid.Utils.getByClass(this.getContainer(),this.settings.get("classPanelButton"),!0)},getEditor:function(){return this.editor},reload:function(t){this.reloadTable("GET",{},null,t)},getPanels:function(){return BX.Grid.Utils.getByClass(this.getContainer(),this.settings.get("classPanels"),!0)},getEmptyBlock:function(){return BX.Grid.Utils.getByClass(this.getContainer(),this.settings.get("classEmptyBlock"),!0)},adjustEmptyTable:function(t){function e(t){var e=t.currentTarget;BX.Grid.Utils.requestAnimationFrame(function(){BX.style(a,"transform","translate3d("+BX.scrollLeft(e)+"px, 0px, 0")})}if(!BX.hasClass(document.documentElement,"bx-ie")&&BX.type.isArray(t)&&1===t.length&&BX.hasClass(t[0],this.settings.get("classEmptyRows"))){var i=BX.pos(this.getContainer()),n=BX.scrollTop(window)+BX.height(window),s=i.bottom-n,o=BX.height(this.getPanels()),a=this.getEmptyBlock(),r=BX.width(this.getContainer());BX.width(a,r),BX.style(a,"transform","translate3d("+BX.scrollLeft(this.getScrollContainer())+"px, 0px, 0"),BX.unbind(this.getScrollContainer(),"scroll",e),BX.bind(this.getScrollContainer(),"scroll",e),s>0?BX.style(this.getTable(),"min-height",i.height-s-o+"px"):BX.style(this.getTable(),"min-height",i.height+Math.abs(s)-o+"px")}else BX.style(this.getTable(),"min-height","")},reloadTable:function(t,e,i,n){var s;BX.type.isNotEmptyString(t)||(t="GET"),BX.type.isPlainObject(e)||(e={});var o=this;this.tableFade(),BX.type.isString(n)||(n=""),this.getData().request(n,t,e,"",function(){o.getRows().reset(),s=this.getBodyRows(),o.getUpdater().updateHeadRows(this.getHeadRows()),o.getUpdater().updateBodyRows(s),o.getUpdater().updateFootRows(this.getFootRows()),o.getUpdater().updatePagination(this.getPagination()),o.getUpdater().updateMoreButton(this.getMoreButton()),o.getUpdater().updateCounterTotal(this.getCounterTotal()),o.adjustEmptyTable(s),o.bindOnRowEvents(),o.bindOnMoreButtonEvents(),o.bindOnClickPaginationLinks(),o.bindOnClickHeader(),o.bindOnCheckAll(),o.updateCounterDisplayed(),o.updateCounterSelected(),o.disableActionsPanel(),o.disableForAllCounter(),o.getActionsPanel().resetForAllCheckbox(),o.getParam("ALLOW_COLUMNS_SORT")&&o.colsSortable.reinit(),o.getParam("ALLOW_ROWS_SORT")&&o.rowsSortable.reinit(),o.tableUnfade(),BX.onCustomEvent(window,"Grid::updated",[]),BX.type.isFunction(i)&&i()})},getGroupEditButton:function(){return BX.Grid.Utils.getByClass(this.getContainer(),this.settings.get("classGroupEditButton"),!0)},getGroupDeleteButton:function(){return BX.Grid.Utils.getByClass(this.getContainer(),this.settings.get("classGroupDeleteButton"),!0)},enableGroupActions:function(){var t=this.getGroupEditButton(),e=this.getGroupDeleteButton();BX.type.isDomNode(t)&&BX.removeClass(t,this.settings.get("classGroupActionsDisabled")),BX.type.isDomNode(e)&&BX.removeClass(e,this.settings.get("classGroupActionsDisabled"))},disableGroupActions:function(){var t=this.getGroupEditButton(),e=this.getGroupDeleteButton();BX.type.isDomNode(t)&&BX.addClass(t,this.settings.get("classGroupActionsDisabled")),BX.type.isDomNode(e)&&BX.addClass(e,this.settings.get("classGroupActionsDisabled"))},closeActionsMenu:function(){for(var t=this.getRows().getRows(),e=0,i=t.length;e<i;e++)t[e].closeActionsMenu()},getPageSize:function(){return this.pageSize},getFader:function(){return this.fader},getData:function(){return this.data=this.data||new BX.Grid.Data(this),this.data},getUpdater:function(){return this.updater=this.updater||new BX.Grid.Updater(this),this.updater},isSortableHeader:function(t){return BX.hasClass(t,this.settings.get("classHeaderSortable"))},bindOnClickHeader:function(){var t,e=this;BX.bind(this.getContainer(),"click",function(i){(t=BX.findParent(i.target,{tag:"th"},!0,!1))&&e.isSortableHeader(t)&&e._clickOnSortableHeader(t,i)})},enableEditMode:function(){this.isEditMode=!0},disableEditMode:function(){this.isEditMode=!1},isEditMode:function(){return this.isEditMode},getColumnHeaderCellByName:function(t){return BX.Grid.Utils.getBySelector(this.getContainer(),"#"+this.getId()+' th[data-name="'+t+'"]',!0)},getColumnByName:function(t){var e=this.getParam("DEFAULT_COLUMNS");return t&&t in e?e[t]:null},sortByColumn:function(t){var e=null,i=null;if(BX.type.isPlainObject(t)?(i=t).sort_url=this.prepareSortUrl(t):(e=this.getColumnHeaderCellByName(t),i=this.getColumnByName(t)),i&&(e&&!BX.hasClass(e,this.settings.get("classLoad"))||!e)){e&&BX.addClass(e,this.settings.get("classLoad")),this.tableFade();var n=this;this.getUserOptions().setSort(i.sort_by,i.sort_order,function(){n.getData().request(i.sort_url,null,null,"sort",function(){n.rows=null,n.getUpdater().updateHeadRows(this.getHeadRows()),n.getUpdater().updateBodyRows(this.getBodyRows()),n.getUpdater().updatePagination(this.getPagination()),n.getUpdater().updateMoreButton(this.getMoreButton()),n.bindOnRowEvents(),n.bindOnMoreButtonEvents(),n.bindOnClickPaginationLinks(),n.bindOnClickHeader(),n.bindOnCheckAll(),n.updateCounterDisplayed(),n.updateCounterSelected(),n.disableActionsPanel(),n.disableForAllCounter(),n.getActionsPanel().resetForAllCheckbox(),n.getParam("ALLOW_ROWS_SORT")&&n.rowsSortable.reinit(),n.getParam("ALLOW_COLUMNS_SORT")&&n.colsSortable.reinit(),BX.onCustomEvent(window,"BX.Main.grid:sort",[i,n]),BX.onCustomEvent(window,"Grid::updated",[]),n.tableUnfade()})})}},prepareSortUrl:function(t){var e=window.location.toString();return"sort_by"in t&&(e=BX.util.add_url_param(e,{by:t.sort_by})),"sort_order"in t&&(e=BX.util.add_url_param(e,{order:t.sort_order})),e},_clickOnSortableHeader:function(t,e){e.preventDefault(),this.sortByColumn(BX.data(t,"name"))},getObserver:function(){return BX.Grid.observer},initRowsDragAndDrop:function(){this.rowsSortable=new BX.Grid.RowsSortable(this)},initColsDragAndDrop:function(){this.colsSortable=new BX.Grid.ColsSortable(this)},getRowsSortable:function(){return this.rowsSortable},getColsSortable:function(){return this.colsSortable},getUserOptionsHandlerUrl:function(){return this.userOptionsHandlerUrl||""},getUserOptions:function(){return this.userOptions},getCheckAllCheckboxes:function(){return BX.Grid.Utils.getByClass(this.getContainer(),this.settings.get("classCheckAllCheckboxes")).map(function(t){return new BX.Grid.Element(t)})},selectAllCheckAllCheckboxes:function(){this.getCheckAllCheckboxes().forEach(function(t){t.getNode().checked=!0})},unselectAllCheckAllCheckboxes:function(){this.getCheckAllCheckboxes().forEach(function(t){t.getNode().checked=!1})},adjustCheckAllCheckboxes:function(){this.getRows().getBodyChild().filter(function(t){return t.isShown()}).length===this.getRows().getSelected().filter(function(t){return t.isShown()}).length?this.selectAllCheckAllCheckboxes():this.unselectAllCheckAllCheckboxes()},bindOnCheckAll:function(){var t=this;this.getCheckAllCheckboxes().forEach(function(e){e.getObserver().add(e.getNode(),"change",t._clickOnCheckAll,t)})},_clickOnCheckAll:function(t){t.preventDefault(),t.target.checked?(this.getRows().selectAll(),this.selectAllCheckAllCheckboxes(),this.enableActionsPanel(),BX.onCustomEvent(window,"Grid::allRowsSelected",[])):(this.getRows().unselectAll(),this.unselectAllCheckAllCheckboxes(),this.disableActionsPanel(),BX.onCustomEvent(window,"Grid::allRowsUnselected",[])),this.updateCounterSelected()},bindOnClickPaginationLinks:function(){var t=this;this.getPagination().getLinks().forEach(function(e){e.getObserver().add(e.getNode(),"click",t._clickOnPaginationLink,t)})},bindOnMoreButtonEvents:function(){this.getMoreButton().getObserver().add(this.getMoreButton().getNode(),"click",this._clickOnMoreButton,this)},bindOnRowEvents:function(){var t=this.getObserver(),e=this.getParam("SHOW_ROW_CHECKBOXES"),i=this.getParam("ENABLE_COLLAPSIBLE_ROWS");this.getRows().getBodyChild().forEach(function(n){e&&t.add(n.getNode(),"click",this._onClickOnRow,this),n.getDefaultAction()&&t.add(n.getNode(),"dblclick",this._onRowDblclick,this),n.getActionsButton()&&t.add(n.getActionsButton(),"click",this._clickOnRowActionsButton,this),i&&n.getCollapseButton()&&t.add(n.getCollapseButton(),"click",this._onCollapseButtonClick,this)},this)},_onCollapseButtonClick:function(t){t.preventDefault(),t.stopPropagation();var e=this.getRows().get(t.currentTarget);e.toggleChildRows(),e.isCustom()?this.getUserOptions().setCollapsedGroups(this.getRows().getIdsCollapsedGroups()):this.getUserOptions().setExpandedRows(this.getRows().getIdsExpandedRows()),BX.fireEvent(document.body,"click")},_clickOnRowActionsButton:function(t){var e=this.getRows().get(t.target);t.preventDefault(),e.actionsMenuIsShown()?e.closeActionsMenu():e.showActionsMenu()},_onRowDblclick:function(event){event.preventDefault();var row=this.getRows().get(event.target),defaultJs="";if(!row.isEdit()){clearTimeout(this.clickTimer),this.clickPrevent=!0;try{defaultJs=row.getDefaultAction(),eval(defaultJs)}catch(t){console.warn(t)}}},_onClickOnRow:function(t){var e=window.getSelection();"LABEL"===t.target.nodeName&&t.preventDefault(),(t.shiftKey||0===e.toString().length)&&(e.removeAllRanges(),this.clickTimer=setTimeout(BX.delegate(function(){this.clickPrevent||function(t){var e,i,n,s,o,a=!0;if("A"!==t.target.nodeName&&"INPUT"!==t.target.nodeName&&(i=this.getRows().get(t.target),o=i.getContentContainer(t.target),BX.type.isDomNode(o)&&"TD"!==t.target.nodeName&&t.target!==o&&(a="true"===BX.data(o,"prevent-default")),a)){if(i.getCheckbox()){if(e=[],this.currentIndex=i.getIndex(),this.lastIndex=this.lastIndex||this.currentIndex,t.shiftKey){for(n=Math.min(this.currentIndex,this.lastIndex),s=Math.max(this.currentIndex,this.lastIndex);n<=s;)e.push(this.getRows().getByIndex(n)),n++;e.some(function(t){return!t.isSelected()})?(e.forEach(function(t){t.select()}),BX.onCustomEvent(window,"Grid::selectRows",[e,this])):(e.forEach(function(t){t.unselect()}),BX.onCustomEvent(window,"Grid::unselectRows",[e,this]))}else i.isSelected()?(i.unselect(),BX.onCustomEvent(window,"Grid::unselectRow",[i,this])):(i.select(),BX.onCustomEvent(window,"Grid::selectRow",[i,this]));this.updateCounterSelected(),this.lastIndex=this.currentIndex}this.adjustRows(),this.adjustCheckAllCheckboxes()}}.apply(this,[t]),this.clickPrevent=!1},this),50))},adjustRows:function(){this.getRows().isSelected()?(BX.onCustomEvent(window,"Grid::thereSelectedRows",[]),this.enableActionsPanel()):(BX.onCustomEvent(window,"Grid::noSelectedRows",[]),this.disableActionsPanel())},getPagination:function(){return new BX.Grid.Pagination(this)},getState:function(){return window.history.state},tableFade:function(){BX.addClass(this.getTable(),this.settings.get("classTableFade")),this.getLoader().show()},tableUnfade:function(){BX.removeClass(this.getTable(),this.settings.get("classTableFade")),this.getLoader().hide()},_clickOnPaginationLink:function(t){t.preventDefault();var e=this,i=this.getPagination().getLink(t.target);i.isLoad()||(this.getUserOptions().resetExpandedRows(),i.load(),this.tableFade(),this.getData().request(i.getLink(),null,null,"pagination",function(){e.rows=null,e.getUpdater().updateBodyRows(this.getBodyRows()),e.getUpdater().updateHeadRows(this.getHeadRows()),e.getUpdater().updateMoreButton(this.getMoreButton()),e.getUpdater().updatePagination(this.getPagination()),e.bindOnRowEvents(),e.bindOnMoreButtonEvents(),e.bindOnClickPaginationLinks(),e.bindOnClickHeader(),e.bindOnCheckAll(),e.updateCounterDisplayed(),e.updateCounterSelected(),e.disableActionsPanel(),e.disableForAllCounter(),e.getActionsPanel().resetForAllCheckbox(),e.getParam("ALLOW_ROWS_SORT")&&e.rowsSortable.reinit(),e.getParam("ALLOW_COLUMNS_SORT")&&e.colsSortable.reinit(),i.unload(),e.tableUnfade(),BX.onCustomEvent(window,"Grid::updated",[])}))},_clickOnMoreButton:function(t){t.preventDefault();var e=this,i=this.getMoreButton();i.load(),this.getData().request(i.getLink(),null,null,"more",function(){e.getUpdater().appendBodyRows(this.getBodyRows()),e.getUpdater().updateMoreButton(this.getMoreButton()),e.getUpdater().updatePagination(this.getPagination()),e.getRows().reset(),e.bindOnRowEvents(),e.bindOnMoreButtonEvents(),e.bindOnClickPaginationLinks(),e.bindOnClickHeader(),e.bindOnCheckAll(),e.updateCounterDisplayed(),e.updateCounterSelected(),e.getParam("ALLOW_ROWS_SORT")&&e.rowsSortable.reinit(),e.getParam("ALLOW_COLUMNS_SORT")&&e.colsSortable.reinit(),e.unselectAllCheckAllCheckboxes()})},getAjaxId:function(){return BX.data(this.getContainer(),this.settings.get("ajaxIdDataProp"))},update:function(t,e){var i,n,s,o,a,r;BX.type.isNotEmptyString(t)&&(o=BX.Grid.Utils.getByTag(this.getTable(),"tbody",!0),a=BX.Grid.Utils.getByTag(this.getTable(),"thead",!0),r=BX.Grid.Utils.getByClass(this.getContainer(),this.settings.get("classNavPanel"),!0),t=BX.create("div",{html:t}),n=BX.Grid.Utils.getByClass(t,this.settings.get("classHeadRow")),i=BX.Grid.Utils.getByClass(t,this.settings.get("classDataRows")),s=BX.Grid.Utils.getByClass(t,this.settings.get("classNavPanel"),!0),e===this.settings.get("updateActionMore")&&(this.getRows().addRows(i),this.unselectAllCheckAllCheckboxes()),e===this.settings.get("updateActionPagination")&&(BX.cleanNode(o),this.getRows().addRows(i),this.unselectAllCheckAllCheckboxes()),e===this.settings.get("updateActionSort")&&(BX.cleanNode(a),BX.cleanNode(o),a.appendChild(n[0]),this.getRows().addRows(i)),r.innerHTML=s.innerHTML,this.bindOnRowEvents(),this.bindOnMoreButtonEvents(),this.bindOnClickPaginationLinks(),this.bindOnClickHeader(),this.bindOnCheckAll(),this.updateCounterDisplayed(),this.updateCounterSelected(),this.sortable.reinit())},getCounterDisplayed:function(){return BX.Grid.Utils.getByClass(this.getContainer(),this.settings.get("classCounterDisplayed"))},getCounterSelected:function(){return BX.Grid.Utils.getByClass(this.getContainer(),this.settings.get("classCounterSelected"))},updateCounterDisplayed:function(){var t,e=this.getCounterDisplayed();BX.type.isArray(e)&&(t=this.getRows(),e.forEach(function(e){BX.type.isDomNode(e)&&(e.innerText=t.getCountDisplayed())},this))},updateCounterSelected:function(){var t,e=this.getCounterSelected();BX.type.isArray(e)&&(t=this.getRows(),e.forEach(function(e){BX.type.isDomNode(e)&&(e.innerText=t.getCountSelected())},this))},getContainerId:function(){return this.containerId},getId:function(){return this.containerId},getContainer:function(){return BX(this.getContainerId())},getCounter:function(){return this.counter||(this.counter=BX.Grid.Utils.getByClass(this.getContainer(),this.settings.get("classCounter"))),this.counter},enableForAllCounter:function(){var t=this.getCounter();BX.type.isArray(t)&&t.forEach(function(t){BX.addClass(t,this.settings.get("classForAllCounterEnabled"))},this)},disableForAllCounter:function(){var t=this.getCounter();BX.type.isArray(t)&&t.forEach(function(t){BX.removeClass(t,this.settings.get("classForAllCounterEnabled"))},this)},getScrollContainer:function(){return this.scrollContainer||(this.scrollContainer=BX.Grid.Utils.getByClass(this.getContainer(),this.settings.get("classScrollContainer"),!0)),this.scrollContainer},getWrapper:function(){return this.wrapper||(this.wrapper=BX.Grid.Utils.getByClass(this.getContainer(),this.settings.get("classWrapper"),!0)),this.wrapper},getFadeContainer:function(){return this.fadeContainer||(this.fadeContainer=BX.Grid.Utils.getByClass(this.getContainer(),this.settings.get("classFadeContainer"),!0)),this.fadeContainer},getTable:function(){return BX.Grid.Utils.getByClass(this.getContainer(),this.settings.get("classTable"),!0)},getHeaders:function(){return BX.Grid.Utils.getBySelector(this.getWrapper(),'.main-grid-header[data-relative="'+this.getContainerId()+'"]')},getHead:function(){return BX.Grid.Utils.getByTag(this.getContainer(),"thead",!0)},getBody:function(){return BX.Grid.Utils.getByTag(this.getContainer(),"tbody",!0)},getFoot:function(){return BX.Grid.Utils.getByTag(this.getContainer(),"tfoot",!0)},getRows:function(){return this.rows instanceof BX.Grid.Rows||(this.rows=new BX.Grid.Rows(this)),this.rows},getMoreButton:function(){var t=BX.Grid.Utils.getByClass(this.getContainer(),this.settings.get("classMoreButton"),!0);return new BX.Grid.Element(t,this)},getLoader:function(){return this.loader instanceof BX.Grid.Loader||(this.loader=new BX.Grid.Loader(this)),this.loader}}}();